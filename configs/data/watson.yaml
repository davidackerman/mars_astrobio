# WATSON (Wide Angle Topographic Sensor) configuration

instrument: "WATSON"
rover: "perseverance"

# Download settings
download:
  sol_range: [0, 1000]
  product_types: ["calibrated", "derived"]  # Skip raw to save space
  max_concurrent: 5
  retry_attempts: 3
  timeout: 300
  skip_calibration_targets: true

# Preprocessing settings
preprocessing:
  target_size: [512, 512]  # Resize images to this size

  # Normalization (use ImageNet stats for transfer learning)
  normalization:
    mean: [0.485, 0.456, 0.406]
    std: [0.229, 0.224, 0.225]

  # Quality filters
  quality_filters:
    min_exposure: 0.1
    max_exposure: 10.0
    exclude_calibration_targets: true
    min_size: [100, 100]  # Minimum image dimensions

# Dataset splits
splits:
  train: 0.70
  val: 0.15
  test: 0.15
  random_seed: 42
  stratify_by_sol: true  # Ensure temporal distribution

# Texture classes for classification
classes:
  - name: "laminations"
    description: "Fine layered sedimentary structures"
    examples:
      - "sol_1174/cheyava_falls_laminations.jpg"

  - name: "porosity"
    description: "Micro-porous textures and cavities"
    examples:
      - "sol_528/wildcat_ridge_porosity.jpg"

  - name: "halos"
    description: "Iron oxide halos around spots (leopard spots)"
    examples:
      - "sol_1174/cheyava_falls_halos.jpg"

  - name: "alteration"
    description: "Chemical alteration textures and color variations"
    examples:
      - "sol_1174/cheyava_falls_alteration.jpg"

  - name: "normal"
    description: "Background rock textures without biosignature features"
    examples:
      - "sol_100/normal_rock_texture.jpg"

# Data augmentation (for training)
augmentation:
  enable: true

  # Geometric transforms
  random_crop:
    enabled: true
    scale: [0.8, 1.0]

  random_flip:
    horizontal: 0.5
    vertical: 0.5

  random_rotation:
    degrees: 15  # Small rotation to preserve texture

  # Color transforms (Mars has variable lighting)
  color_jitter:
    brightness: 0.2
    contrast: 0.2
    saturation: 0.1
    hue: 0.05

  random_grayscale:
    probability: 0.1

  # Defocus simulation
  gaussian_blur:
    probability: 0.1
    kernel_size: 3
    sigma: [0.1, 2.0]

# Paths
paths:
  raw: "data/raw/watson"
  processed: "data/processed/watson_texture_v1"
  annotations: "data/annotations"
  cache: "data/cache/watson"
